<!-- integrations-page.component.html -->
<div class="min-h-screen bg-gray-900 text-gray-100 font-sans">
  <app-shop-nav-bar [currentTab]="currentTab"></app-shop-nav-bar>

  <!-- Integrations Content -->
  <div class="max-w-6xl mx-auto px-6 py-8">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-2xl font-bold">Integrations</h1>
    </div>

    <!-- Integration Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
      <!-- OBS Browser Source Card -->
      <div
        class="bg-gray-800 rounded-xl border border-gray-700 overflow-hidden"
      >
        <div class="p-6">
          <div class="flex items-center mb-4">
            <div class="bg-purple-900 bg-opacity-30 p-3 rounded-md mr-4">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-purple-400"
              >
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold">OBS Browser Source</h2>
              <p class="text-gray-400 text-sm">Display alerts on your stream</p>
            </div>
          </div>

          <p class="text-gray-300 mb-6">
            Add this browser source URL to OBS to display alerts when viewers
            purchase your products. The alerts will appear on your livestream,
            adding hype and excitement!
          </p>

          <div class="bg-gray-700 p-3 rounded-md mb-4">
            <div class="flex items-center justify-between mb-2">
              <div class="text-sm text-gray-400">Browser Source URL</div>
              <button
                (click)="toggleShowOBSKey()"
                class="text-gray-400 hover:text-gray-300"
              >
                <svg
                  *ngIf="showOBSKey"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                  ></path>
                  <line x1="1" y1="1" x2="23" y2="23"></line>
                </svg>
                <svg
                  *ngIf="!showOBSKey"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
            <div class="flex items-center justify-between">
              <code class="text-green-400 font-mono truncate">
                {{ showOBSKey ? obsBrowserUrl : "••••••••••••••••••••" }}
              </code>
              <button
                (click)="handleCopyOBS()"
                class="bg-gray-600 hover:bg-gray-500 text-white px-3 py-1 rounded-md text-sm flex items-center ml-2"
              >
                <svg
                  *ngIf="copiedOBS"
                  xmlns="http://www.w3.org/2000/svg"
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="mr-1"
                >
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                <svg
                  *ngIf="!copiedOBS"
                  xmlns="http://www.w3.org/2000/svg"
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="mr-1"
                >
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path
                    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                  ></path>
                </svg>
                {{ copiedOBS ? "Copied!" : "Copy" }}
              </button>
            </div>
          </div>

          <h3 class="font-bold text-lg mb-2">Setup Instructions</h3>
          <ol class="list-decimal list-inside space-y-2 text-gray-300 mb-6">
            <li>Open OBS Studio</li>
            <li>In the Sources panel, click the + icon</li>
            <li>Select "Browser" from the dropdown menu</li>
            <li>Paste the URL above into the URL field</li>
            <li>Set Width: 1280 and Height: 720</li>
            <li>Click "OK" to save</li>
          </ol>
        </div>
      </div>

      <!-- Discord Bot Card -->
      <div
        class="bg-gray-800 rounded-xl border border-gray-700 overflow-hidden"
      >
        <div class="p-6">
          <div class="flex items-center mb-4">
            <div class="bg-indigo-900 bg-opacity-30 p-3 rounded-md mr-4">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-indigo-400"
              >
                <path
                  d="M12 2l2.2 6.6h6.8l-5.5 4 2.2 6.6-5.5-4-5.5 4 2.2-6.6-5.5-4h6.8z"
                ></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-bold">Discord Bot Setup</h2>
              <p class="text-gray-400 text-sm">
                Send alerts to your Discord server
              </p>
            </div>
          </div>

          <p class="text-gray-300 mb-6">
            Add the Pogshop Discord bot to your server to notify your community
            when someone purchases a product. Great for keeping your Discord
            members engaged with your stream.
          </p>

          <div class="bg-gray-700 p-3 rounded-md mb-4">
            <div class="flex items-center justify-between mb-2">
              <div class="text-sm text-gray-400">Discord Bot Invite URL</div>
              <button
                (click)="toggleShowDiscordKey()"
                class="text-gray-400 hover:text-gray-300"
              >
                <svg
                  *ngIf="showDiscordKey"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                  ></path>
                  <line x1="1" y1="1" x2="23" y2="23"></line>
                </svg>
                <svg
                  *ngIf="!showDiscordKey"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
            <div class="flex items-center justify-between">
              <code
                class="text-indigo-400 font-mono text-sm truncate max-w-[260px]"
              >
                {{ showDiscordKey ? discordBotInvite : "••••••••••••••••••••" }}
              </code>
              <button
                (click)="handleCopyDiscord()"
                class="bg-gray-600 hover:bg-gray-500 text-white px-3 py-1 rounded-md text-sm flex items-center ml-2 whitespace-nowrap"
              >
                <svg
                  *ngIf="copiedDiscord"
                  xmlns="http://www.w3.org/2000/svg"
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="mr-1"
                >
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                <svg
                  *ngIf="!copiedDiscord"
                  xmlns="http://www.w3.org/2000/svg"
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="mr-1"
                >
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path
                    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                  ></path>
                </svg>
                {{ copiedDiscord ? "Copied!" : "Copy" }}
              </button>
            </div>
          </div>

          <div class="flex mb-6">
            <a
              [href]="discordBotInvite"
              target="_blank"
              rel="noopener noreferrer"
              class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-2"
              >
                <path
                  d="M12 2l2.2 6.6h6.8l-5.5 4 2.2 6.6-5.5-4-5.5 4 2.2-6.6-5.5-4h6.8z"
                ></path>
              </svg>
              Add to Discord
            </a>
          </div>

          <h3 class="font-bold text-lg mb-2">Setup Instructions</h3>
          <ol class="list-decimal list-inside space-y-2 text-gray-300 mb-6">
            <li>Click the "Add to Discord" button above</li>
            <li>Select the server you want to add the bot to</li>
            <li>Authorize the bot with the requested permissions</li>
            <li>
              Use the <code class="text-indigo-400">/setup</code> command in
              your server
            </li>
            <li>Select the channel where you want alerts to appear</li>
            <li>Customize your alert settings using the bot commands</li>
          </ol>

          <div
            class="bg-indigo-900 bg-opacity-20 rounded-md p-4 border border-indigo-800 mb-6"
          >
            <div class="flex items-start">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-indigo-400 mr-2 flex-shrink-0 mt-0.5"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
              </svg>
              <p class="text-sm text-gray-300">
                Make sure the bot has permissions to send messages and embeds in
                your selected channel. You can adjust these in your Discord
                server settings.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Troubleshooting Section -->
    <div class="bg-gray-800 rounded-lg p-6 border-l-4 border-blue-500 mb-8">
      <h3 class="font-bold text-lg mb-4 flex items-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-blue-400 mr-2"
        >
          <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
          <rect x="9" y="9" width="6" height="6"></rect>
          <line x1="9" y1="1" x2="9" y2="4"></line>
          <line x1="15" y1="1" x2="15" y2="4"></line>
          <line x1="9" y1="20" x2="9" y2="23"></line>
          <line x1="15" y1="20" x2="15" y2="23"></line>
          <line x1="20" y1="9" x2="23" y2="9"></line>
          <line x1="20" y1="14" x2="23" y2="14"></line>
          <line x1="1" y1="9" x2="4" y2="9"></line>
          <line x1="1" y1="14" x2="4" y2="14"></line>
        </svg>
        Troubleshooting
      </h3>

      <div class="space-y-4">
        <div>
          <h4 class="font-bold text-gray-200 mb-1">
            Alerts not showing in OBS?
          </h4>
          <p class="text-gray-300 text-sm">
            Make sure your browser source is visible and not hidden. Try
            refreshing the browser source by right-clicking it and selecting
            "Refresh". Also check that the URL is entered correctly.
          </p>
        </div>

        <div>
          <h4 class="font-bold text-gray-200 mb-1">
            Discord bot not responding?
          </h4>
          <p class="text-gray-300 text-sm">
            Verify that the bot has been added to your server correctly and has
            the necessary permissions. Try using the
            <code class="text-indigo-400">/help</code> command to check if the
            bot is responsive.
          </p>
        </div>

        <div>
          <h4 class="font-bold text-gray-200 mb-1">Need additional help?</h4>
          <p class="text-gray-300 text-sm">
            Contact our support team if you're still having issues with your
            integrations. We're here to help ensure your streaming setup works
            smoothly.
          </p>
        </div>
      </div>
    </div>

    <!-- Coming Soon Section -->
    <div class="bg-gray-800 rounded-lg p-6">
      <h3 class="font-bold text-xl mb-4">Coming Soon</h3>

      <div class="grid grid-cols-1 gap-4">
        <div class="bg-gray-700 rounded-lg p-4 flex items-start">
          <div class="bg-purple-900 bg-opacity-30 p-2 rounded-md mr-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="text-purple-400"
            >
              <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
              <rect x="9" y="9" width="6" height="6"></rect>
              <line x1="9" y1="1" x2="9" y2="4"></line>
              <line x1="15" y1="1" x2="15" y2="4"></line>
              <line x1="9" y1="20" x2="9" y2="23"></line>
              <line x1="15" y1="20" x2="15" y2="23"></line>
              <line x1="20" y1="9" x2="23" y2="9"></line>
              <line x1="20" y1="14" x2="23" y2="14"></line>
              <line x1="1" y1="9" x2="4" y2="9"></line>
              <line x1="1" y1="14" x2="4" y2="14"></line>
            </svg>
          </div>
          <div>
            <h4 class="font-bold text-gray-200 mb-1">
              Twitch Chatbot Integration
            </h4>
            <p class="text-xs text-gray-400">
              An interactive chatbot to enhance viewer engagement on Twitch
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
