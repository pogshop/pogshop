@if((usersService.getAuthUserInProgress$ | async) || !user) { @if(true) {
<!-- Loading screen for logged in users -->
<div
  class="flex flex-col items-center justify-center min-h-screen bg-gray-900 text-gray-100"
>
  <div class="relative w-32 h-32">
    <div
      class="absolute inset-4 rounded-full border-8 border-t-purple-500 border-r-pink-500 border-b-blue-500 border-l-violet-500 animate-spin animation-delay-500"
    ></div>
  </div>
  <p class="text-2xl font-semibold text-gray-200 animate-pulse mb-4">
    Loading Pog Shop...
  </p>
  <div class="flex space-x-3">
    <span
      class="inline-block w-4 h-4 bg-purple-500 rounded-full animate-bounce"
    ></span>
    <span
      class="inline-block w-4 h-4 bg-pink-500 rounded-full animate-bounce animation-delay-200"
    ></span>
    <span
      class="inline-block w-4 h-4 bg-violet-500 rounded-full animate-bounce animation-delay-400"
    ></span>
    <span
      class="inline-block w-4 h-4 bg-blue-500 rounded-full animate-bounce animation-delay-600"
    ></span>
  </div>
</div>
} } @else {
<app-shop-nav-bar [currentTab]="TABS.SHOP"></app-shop-nav-bar>

<app-creator-banner
  [canEditProfile]="canEdit"
  [user]="user"
  [authUser]="authUser"
></app-creator-banner>

<!-- Notification Banner -->
<div
  class="bg-gradient-to-r from-purple-600 via-pink-500 to-purple-600 text-white my-4"
>
  <div class="max-w-6xl mx-auto px-3 sm:px-4 py-3 sm:py-4">
    <div
      class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0"
    >
      <div class="flex items-center space-x-2 sm:space-x-3">
        <div class="text-xl sm:text-2xl flex-shrink-0">ðŸŽ‰</div>
        <div class="min-w-0 flex-1">
          <p class="font-semibold text-sm sm:text-base leading-tight">
            @if(user.handle) { Help &#64;{{ user.handle }}! } @else { Help the
            streamer! }
          </p>
          <p class="text-purple-100 text-xs sm:text-sm leading-tight mt-1">
            Tell them how to make their pog shop better!
          </p>
        </div>
      </div>
      <button
        (click)="openReferralForm()"
        class="bg-white text-purple-600 hover:bg-purple-50 hover:text-purple-700 hover:shadow-lg hover:scale-105 px-3 sm:px-4 py-2 rounded-md font-semibold text-xs sm:text-sm transition-all duration-200 flex-shrink-0 w-full sm:w-auto"
      >
        Give Suggestion
      </button>
    </div>
  </div>
</div>

<div class="max-w-6xl mx-auto">
  @if(viewableSelectedProduct) {
  <app-product-details-section
    [product]="viewableSelectedProduct"
    [showBackButton]="true"
    (onBack)="closeProductDetails()"
  ></app-product-details-section>
  } @else if(products != null) {
  <app-product-grid
    (onProductClick)="navigateToProduct($event.id)"
    [productList]="products"
    [canEdit]="canEdit"
  ></app-product-grid>
  }
</div>
}

<app-footer></app-footer>
